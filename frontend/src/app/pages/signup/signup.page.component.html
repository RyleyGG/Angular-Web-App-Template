<div
	class="flex justify-content-center align-content-center align-items-center h-full"
>
	<form [formGroup]="registerForm" (ngSubmit)="signup()">
		<p-card [style]="{ width: '40vw', height: '50vh' }">
			<div class="flex align-items-center justify-content-center">
				<p class="text-3xl m-0 font-bold">Sign Up</p>
			</div>

			<!--First Name Input-->
			<div class="flex gap-2 align-items-center mt-5">
				<span class="p-float-label flex-grow-1">
					<input
						type="text"
						pInputText
						formControlName="first_name"
						name="first_name"
						class="w-full"
					/>
					<label>First Name</label>
				</span>
				<div
					*ngIf="
						first_name.invalid &&
						(first_name.dirty || first_name.touched)
					"
				>
					<p-message
						[style.color]="'red'"
						class="font-semibold mb-1"
						*ngIf="first_name.errors?.['required']"
						severity="error"
						text="A name is required."
					/>
					<p-message
						[style.color]="'red'"
						class="font-semibold mb-1"
						*ngIf="first_name.errors?.['pattern']"
						severity="error"
						text="Enter a valid name."
					/>
				</div>
			</div>
			<!--Last Name Input-->
			<div class="flex mt-5 gap-1 align-items-center">
				<span class="p-float-label flex-grow-1">
					<input
						type="text"
						pInputText
						formControlName="last_name"
						name="last_name"
						class="w-full"
					/>
					<label>Last Name</label>
				</span>
				<div
					*ngIf="
						last_name.invalid &&
						(last_name.dirty || last_name.touched)
					"
				>
					<p-message
						*ngIf="last_name.errors?.['required']"
						[style.color]="'red'"
						class="font-semibold mb-1"
						severity="error"
						text="A name is required."
					/>
					<p-message
						*ngIf="last_name.errors?.['pattern']"
						[style.color]="'red'"
						class="font-semibold mb-1"
						severity="error"
						text="Enter a valid name."
					/>
				</div>
			</div>
			<!--Email Input-->
			<div class="flex mt-5 gap-1 align-items-center">
				<span class="p-float-label flex-grow-1">
					<input
						type="text"
						pInputText
						formControlName="email_address"
						name="email_address"
						class="w-full"
					/>
					<label>Email</label>
				</span>
				<div
					*ngIf="
						email_address.invalid &&
						(email_address.dirty || email_address.touched)
					"
				>
					<p-message
						*ngIf="email_address.errors?.['required']"
						[style.color]="'red'"
						class="font-semibold mb-1"
						severity="error"
						text="An email is required."
					/>
					<p-message
						*ngIf="email_address.errors?.['email']"
						[style.color]="'red'"
						class="font-semibold mb-1"
						severity="error"
						text="Enter a valid email."
					/>
				</div>
			</div>
			<!--Passsword Input-->
			<div class="flex mt-5 gap-1 align-items-center">
				<span class="p-float-label flex-grow-1">
					<input
						type="password"
						pInputText
						formControlName="password"
						name="password"
						class="w-full"
					/>
					<label>Password</label>
				</span>
				<div
					*ngIf="
						password.invalid && (password.dirty || password.touched)
					"
				>
					<p-message
						*ngIf="email_address.errors?.['required']"
						[style.color]="'red'"
						class="font-semibold mb-1"
						severity="error"
						text="A password is required."
					/>
				</div>
			</div>
			<!--Confirm  Password Input-->
			<div class="flex mt-5 gap-1 align-items-center">
				<span class="p-float-label flex-grow-1">
					<input
						type="password"
						pInputText
						formControlName="confirmPassword"
						name="confirmPassword"
						class="w-full"
					/>
					<label>Confirm Password</label>
				</span>
				<div
					*ngIf="
						(confirmPassword.invalid &&
							(confirmPassword.dirty ||
								confirmPassword.touched) &&
							confirmPassword.errors?.['required']) ||
						(registerForm.errors?.['passwordMismatch'] &&
							confirmPassword.valid &&
							password.valid)
					"
				>
					<p-message
						*ngIf="
							confirmPassword.invalid &&
							(confirmPassword.dirty ||
								confirmPassword.touched) &&
							confirmPassword.errors?.['required']
						"
						severity="error"
						text="Confirm your password."
					/>
					<p-message
						*ngIf="
							registerForm.errors?.['passwordMismatch'] &&
							confirmPassword.valid &&
							password.valid
						"
						severity="error"
						text="Passwords should match."
					/>
				</div>
			</div>

			<!--Account Type Button-->
			<!--            <div style="display: flex; align-items: center; gap: 1em; margin-top: 1em;">-->
			<!--                <p>Account Type: </p>-->
			<!--                <p-toggleButton formControlName="user_type" onLabel="Teacher" offLabel="Student" />-->
			<!--            </div>-->

			<!--Submit and Errors-->
			<button
				pButton
				[disabled]="registerForm.invalid"
				type="submit"
				class="p-button-rounded w-full mt-2 align-items-center justify-content-center"
			>
				Sign-Up
			</button>
			<p-message
				*ngIf="errorMessage"
				[style.color]="'red'"
				class="font-semibold mt-2 w-full"
				severity="error"
				[text]="errorMessage"
			/>
			<ng-template pTemplate="footer">
				<div
					class="flex flex-column justify-content-center align-items-center text-lg opacity-70"
				>
					<div>Already have an account?</div>
					<div style="display: flex; flex-direction: row">
						click
						<div
							[routerLink]="['/signin']"
							style="
								cursor: pointer;
								margin-left: 5px;
								margin-right: 5px;
								text-decoration: none;
								color: var(--primary-color);
								font-weight: 800;
								font-size: large;
							"
						>
							here
						</div>
						to sign-in instead.
					</div>
				</div>
			</ng-template>
		</p-card>
	</form>
</div>
